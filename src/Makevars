# Makevars.in generated by configure script
# This file will be processed to create src/Makevars

# Use the downloaded cephes-lib
CEPHES_PATH = /media/yoshinobu/sdcard/develop/calcimp-R/.cephes-lib

# pkg-config for glib-2.0 and gsl
PKG_CFLAGS = $(shell pkg-config --cflags glib-2.0 gsl 2>/dev/null || echo "") -I$(CEPHES_PATH)
# Use -Wl,-Bsymbolic to ensure cephes functions call their own symbols (e.g., gamma)
# and -Wl,--whole-archive to include all objects from static library
PKG_LIBS = $(shell pkg-config --libs glib-2.0 gsl 2>/dev/null || echo "-lglib-2.0 -lgsl -lgslcblas") -Wl,--whole-archive $(CEPHES_PATH)/libmd.a -Wl,--no-whole-archive -lm -Wl,-Bsymbolic

# Additional compilation flags
PKG_CFLAGS += -std=gnu99 -D_GNU_SOURCE

# Source files to compile
SOURCES = calcimp_r.c init.c acoustic_constants.c kutils.c zmensur.c xmensur.c \
          xydata.c matutil.c tinyexpr.c
OBJECTS = $(SOURCES:.c=.o)
