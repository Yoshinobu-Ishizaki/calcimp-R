#!/bin/bash
# cleanup script for calcimp R package
# Removes generated files and downloaded libraries

echo "Cleaning up calcimp R package..."

# Remove downloaded cephes-lib
if [ -d ".cephes-lib" ]; then
    echo "Removing downloaded cephes-lib..."
    rm -rf .cephes-lib
fi

# Remove generated Makevars files
if [ -f "src/Makevars.in" ]; then
    echo "Removing generated src/Makevars.in..."
    rm -f src/Makevars.in
fi

# Remove compiled objects and libraries
echo "Removing compiled objects..."
rm -f src/*.o src/*.so src/*.dll

# Remove generated documentation (will be regenerated by devtools::document())
if [ -d "man" ]; then
    echo "Removing generated man pages..."
    rm -f man/*.Rd
fi

# Remove configure log if it exists
rm -f configure.log

# Remove R package build artifacts
echo "Removing R package build artifacts..."
rm -rf .Rproj.user
rm -f .RData .Rhistory

echo "Cleanup complete!"
echo ""
echo "To rebuild:"
echo "  ./configure"
echo "  devtools::load_all()"
